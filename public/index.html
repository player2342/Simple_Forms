<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Thasadith" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <style>
    input[type=text] {
      box-shadow: 0 0 11px rgba(33,33,33,.2); 

      color: white;
      width: 100%;
      padding: 12px 20px;
      margin: 8px -12px; /*https://teamtreehouse.com/community/how-to-remove-space-between-submit-and-input-field*/
      box-sizing: border-box;
      text-justify: inherit;
      border: 2px solid #eee5be;
      border-radius: 4px;
      background-color: #ffffff;
      color: #8d8c8c;
    }
    input[type=text]:focus {
      background-color: rgb(215, 221, 223);
      opacity: 0.5;
      transition: 2s;
    }
   
    input[type=button], input[type=submit], input[type=reset] {
      background-color: #b4e1f1;
      color: white;
      padding: 4px 52px;
      font-size: 15px;
      text-decoration: none;
      margin: 4px 2px;
      cursor: pointer;
      border: 10px solid #bae4f3; 
      border-radius: 4px;
      outline: none;

    }
    input:hover{
      transition: 3s;
    }
    #activeHidden{
       animation: typing 2s infinite alternate linear;
    }
    @keyframes typing {
         from{
            opacity: 0.3;
            color: azure;
         }
         to{
           opacity: 1;
           color: rgb(131, 213, 251);
         }
    }

    html, body, .viewport {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0; 
    }
    body {
      font-family: 'Thasadith', sans-serif;
      font-size: 25px;
    }
    h1{
      text-shadow: -4px 4px 10px #5a5a5a;
    }
    .flex-box { 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      height: 100%;  
    } 
    .box { 
      padding: 8px 10% 0px 10%; 
      font-size: 25px; 
      color: #8d8c8c; 
      /*border: 10px solid #f7d84e; */
      justify-content: center;
      align-items: center;
      text-align: center;
      border: 1px solid rgb(245, 238, 238);
      height: 40%;
      background-color: rgb(249, 251, 251);
      border-radius: 20px;
      animation: animateBoxHover 10s ease-in-out infinite;
      box-shadow: -5px 7px 4px 3px rgb(212, 231, 243); 
      background: linear-gradient(-45deg,#EE7752,#E73C7E,#23A6D5,#23D5AB);
      background-size: 400% 400%;
    } 

       @keyframes animateBoxHover {
         0%{transform:rotate(1deg);background-position: 0 50%;}
         50%{background-position: 100% 50%;} 
         100%{transform:rotate(-1deg);background-position: 0 50%;} 
       }

    #Email{
      border-top: none;
      border-left: none;
      border-right: none;
      outline: none;
    }
    .againButton{
       width: 150px;
       height: 40px;
       background-color: #b4e1f1;
       border-radius: 4px;
       text-align: center;
       padding-top: 5px;
       cursor: pointer;
    }
    .againButton:hover{
      box-shadow: 0 0 11px rgba(255, 217, 46, 0.2); 
      background-color: #61cdff;
      transition: 2s;
      color: rgb(0, 0, 0);
    }
  </style>
</head>
<body>


  <div class="flex-box"> 
    <div class="box">
    <div>
        <H1 id="activeHidden">Information capturing</H1>
    </div>
    <div>
      <form id="form"> 
        <input type="text" id="Email" name="Email" placeholder="Email">
        <!-- <input type="text" id="name" name="Name" placeholder="Name">
        <input type="text" id="cell" name="Cell" placeholder="Cell"> -->
        <input id="submitButton" type="submit" value="Submit">
      </form>
    </div>
    </div>
  </div>
     


<script>



const input = document.getElementById('Email');
const box = document.querySelector('.box');
$("#form").submit(function(e) {
input.value = "";
e.preventDefault(); // avoid to execute the actual submit of the form.

var form = $(this);
var url = "https://verceltest-six.vercel.app/api" // url of the Flask API
const activeHidden = document.getElementById('activeHidden');
$.ajax({
      type: "POST",
      url: url,
      data: form.serialize(), // serializes the form's elements.
       success: function(data)
       {
           console.log("API response", data); // show response from the flask API.
           $('#form').trigger("reset");
           //alert("Data sent with success !")
           const form = document.getElementById('form'); // getting element from home
      
           form.style.display = "none";
           activeHidden.style.display = "none";
           
           const div = document.createElement('div'); // creating dom element
           const pressEnterInfo = document.createElement('p'); // creating dom element
           pressEnterInfo.innerText = "press Enter â†µ";
           div.classList = "againButton";
           div.innerText = "Again";
           box.appendChild(div);
           box.appendChild(pressEnterInfo)
           div.style.marginTop = "100px";
           box.style.transform = "rotate(1deg)"; // you can add deg
           // onclick function
           div.onclick = () =>{ // div onclick function styles changed 
           form.style.display = "";
           activeHidden.style.display = "";
             div.style.display = "none";
             pressEnterInfo.style.display = "none";

           }
       },
       error: function(err)
       { 
           console.log("API response", err); // show error from the flask API.
          // alert("API error, please try again !")
       }
     });

});
</script>
</body>
</html>
